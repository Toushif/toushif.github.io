<!DOCTYPE html>
<html lang="en" style="scroll-behavior: smooth;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toushif UL Haque - Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Favicon and Open Graph Image for browser tab and social sharing -->
    <link rel="icon" href="assets/images/Toushif_profile_small.jpg" type="image/jpeg">
    <meta property="og:image" content="assets/images/Toushif_profile_small.jpg">
    <!-- Chosen Palette: "Modern Verdant" - --color-darkest-bg: #2f3e46ff (charcoal - side menu, deep text); --color-dark-text: #354f52ff (dark-slate-gray - main text, headings); --color-dark-accent: #52796fff (hookers-green - active states, dark elements); --color-light-accent: #84a98cff (cambridge-blue - lighter elements, hovers); --color-lightest: #cad2c5ff (ash-gray - main background, light elements). -->
    <!-- Application Structure Plan: The portfolio is structured with a fixed left-side navigation for easy access to main sections: About Me, Summary, Skills, Experience, Education, Documents, and Contact Me. The primary content area on the right provides detailed information for each section. The interactive experience is driven by filterable skills, a collapsible experience timeline, and a dynamic image carousel for documents, all designed to make the user journey intuitive and engaging. The Contact Me form, accessible via a prominent button or modal, facilitates direct communication. -->
    <!-- Visualization & Content Choices: 
        - About Me (Inform): Detailed introductory text including direct contact info.
        - Summary (Inform): Concise text with key portfolio/social links.
        - Skills (Organize/Inform): Filterable grid of skills with Unicode icons. Goal: Allow quick filtering and identification of specific expertise. Method: HTML/CSS grid + JS filtering. Justification: Enhances scanability and user engagement over a static list.
        - Skill Proficiency (Compare): Radar chart using Chart.js. Goal: Visualize relative proficiency across key skill categories. Method: Canvas Chart. Justification: Provides a holistic, comparative view of strengths.
        - Experience (Change/Organize): Interactive vertical timeline with collapsible details. Goal: Present career progression clearly while allowing drill-down into specific achievements. Method: HTML/CSS + JS show/hide. Justification: More dynamic and less overwhelming than continuous text blocks.
        - Education/Certifications (Inform): Simple, clear lists.
        - Documents (Organize/Explore): Collapsible section with an auto-cycling image carousel for certificates. Goal: Showcase visual proof of qualifications without cluttering the main page. Method: HTML/CSS + JS for collapse and automated carousel logic. Justification: Interactive, space-efficient, and visually engaging.
        - Contact Me (Task): Interactive form in a modal and inline. Goal: Provide a clear call to action and a structured way for users to reach out. Method: HTML form + JS for validation and mailto link generation. Justification: Professional and directly actionable.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        :root {
            --color-darkest-bg: #2f3e46ff; /* charcoal */
            --color-dark-text: #354f52ff; /* dark-slate-gray */
            --color-dark-accent: #52796fff; /* hookers-green */
            --color-light-accent: #84a98cff; /* cambridge-blue */
            --color-lightest: #cad2c5ff; /* ash-gray */
            --color-dark-accent-hover: #426056; /* A visibly darker shade of hookers-green */
        }
        body {
            font-family: 'Raleway', sans-serif;
            background-color: var(--color-lightest);
            color: var(--color-dark-text);
        }
        .bg-darkest-bg { background-color: var(--color-darkest-bg); }
        .text-darkest-bg { color: var(--color-darkest-bg); }
        .text-dark-text { color: var(--color-dark-text); }
        .text-dark-text { color: var(--color-dark-text); }
        .bg-dark-accent { background-color: var(--color-dark-accent); }
        .text-dark-accent { color: var(--color-dark-accent); }
        .bg-light-accent { background-color: var(--color-light-accent); }
        .text-light-accent { color: var(--color-light-accent); }
        .bg-lightest { background-color: var(--color-lightest); }
        .text-lightest { color: var(--color-lightest); }
        
        /* Updated hover styles for buttons to use the new variable and add shadow */
        .header-btn-hover:hover { 
            background-color: var(--color-dark-accent-hover); 
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* Tailwind shadow-md */
        }
        .hover\:text-light-accent-hover:hover { color: #9abfa7; } /* Slightly lighter cambridge-blue for hover */
        
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .timeline-item:not(:last-child)::before {
            content: '';
            position: absolute;
            width: 2px;
            background-color: var(--color-light-accent);
            left: 1.25rem;
            top: 2.5rem;
            bottom: -1rem;
            transform: translateX(-50%);
        }
        .nav-link {
            transition: color 0.3s ease, background-color 0.3s ease;
        }
        .nav-link.active {
            color: var(--color-lightest); /* Highlight text with lightest color */
            background-color: var(--color-dark-accent); /* Active background color */
        }
        .skill-btn.active {
            background-color: var(--color-dark-accent);
            color: var(--color-lightest);
        }
        .skill-item-card {
            background-color: var(--color-lightest);
            color: var(--color-dark-text);
            transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
        }
        .skill-item-card:hover {
            background-color: var(--color-light-accent);
            transform: translateY(-4px);
            box-shadow: 0 6px 10px -3px rgba(0, 0, 0, 0.15);
        }

        /* Carousel specific styles */
        .carousel-container {
            position: relative;
            width: 100%;
            max-width: 600px; /* Reduced max-width for smaller carousel */
            margin-left: auto;
            margin-right: auto;
            overflow: hidden;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            background-color: var(--color-lightest);
        }
        .carousel-slides {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        .carousel-slide {
            min-width: 100%;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
        }
        .carousel-slide img {
            max-width: 100%;
            height: auto;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
        }
        .carousel-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 0.5rem 0.75rem;
            border-radius: 9999px;
            cursor: pointer;
            z-index: 10;
        }
        .carousel-button.left { left: 1rem; }
        .carousel-button.right { right: 1rem; }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 100; /* Increased z-index for all modals */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: var(--color-lightest);
            padding: 2.5rem;
            border-radius: 1rem;
            max-width: 90%;
            width: 500px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        .close-button {
            color: var(--color-dark-text);
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
        }
        /* Gradient background for main content */
        .main-gradient-bg {
            background: linear-gradient(to bottom, var(--color-lightest) 0%, var(--color-light-accent) 30%, var(--color-dark-accent) 70%, var(--color-dark-text) 100%);
            background-size: 100% 100%; /* Reverted to cover 100% height */
            background-attachment: scroll; /* Reverted to scroll normally */
        }

        /* Section Header Styling */
        .section-header {
            background: linear-gradient(to right, var(--color-dark-text), var(--color-dark-accent));
            color: var(--color-lightest);
            border: 1px solid var(--color-light-accent);
            border-radius: 0.5rem; /* rounded-lg */
            padding: 0.75rem 1.5rem; /* py-3 px-6 */
            margin-bottom: 2rem; /* mb-8 */
            display: table; /* Changed to table to fit content and allow auto margins */
            text-align: center;
            font-weight: bold;
            font-size: 1.875rem; /* text-3xl */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            margin-left: auto; /* Center the table element */
            margin-right: auto; /* Center the table element */
        }
        /* Mobile section header size */
        @media (max-width: 767px) {
            .section-header {
                font-size: 1.5rem; /* text-2xl for mobile */
                padding: 0.5rem 1rem;
            }
        }

        /* Mobile menu specific styles */
        #mobile-menu-nav {
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            width: 64%; /* Adjusted width for mobile */
            max-width: 256px; /* Max width for consistency */
            background-color: var(--color-darkest-bg);
            color: var(--color-lightest);
            padding: 1.5rem;
            box-shadow: 0 0 15px rgba(0,0,0,0.5);
            z-index: 100; /* Increased z-index */
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
            display: flex;
            flex-direction: column;
        }
        #mobile-menu-nav.open {
            transform: translateX(0);
        }
        #mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 99; /* Increased z-index */
            display: none;
        }
        #mobile-menu-overlay.open {
            display: block;
        }
        body.no-scroll {
            overflow: hidden;
        }

        /* Color palette picker styles */
        .palette-item {
            width: 400px; /* Fixed width as requested */
            display: flex;
            cursor: pointer;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            margin-bottom: 0.75rem;
            position: relative; /* For tooltip */
        }
        .palette-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .palette-item.selected {
            border: 2px solid var(--color-dark-accent);
            cursor: default;
            opacity: 0.8;
        }
        .palette-color-bar {
            width: 80px; /* 400px / 5 colors = 80px per color */
            height: 40px; /* Visual height of the color bar */
        }
        .palette-tooltip {
            position: absolute;
            bottom: 100%; /* Position above the item */
            left: 50%;
            transform: translateX(-50%) translateY(-5px); /* Center and add slight offset */
            background-color: var(--color-darkest-bg);
            color: var(--color-lightest);
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            z-index: 60; /* Above palette items */
        }
        .palette-item:hover .palette-tooltip {
            opacity: 1;
            visibility: visible;
        }
        /* Full screen modal content adjustments for larger image/PDF */
        #fullScreenModal .modal-content {
            max-width: 95%; /* Increased width */
            width: 900px; /* Increased fixed width for larger screens */
            max-height: 95vh; /* Increased max height */
            height: auto;
            padding: 1rem; /* Reduced padding to give more space to content */
        }
        #fullScreenContent {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            overflow: hidden; /* Ensure content doesn't overflow */
            position: relative; /* For nav buttons */
        }
        #fullScreenContent img, #fullScreenContent iframe {
            max-width: 100%;
            max-height: 95%; /* Increased from 85vh to 95% of modal-content height */
            object-fit: contain; /* Ensure image fits without cropping */
        }
        .fullscreen-nav-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 0.75rem 1rem;
            border-radius: 9999px;
            cursor: pointer;
            z-index: 20; /* Above image/pdf */
            font-size: 1.5rem; /* Larger arrows */
            transition: background-color 0.3s ease;
        }
        .fullscreen-nav-button:hover {
            background-color: rgba(0, 0, 0, 0.7);
        }
        .fullscreen-nav-button.left { left: 1rem; }
        .fullscreen-nav-button.right { right: 1rem; }

        /* Hide nav buttons on mobile */
        @media (max-width: 767px) {
            .fullscreen-nav-button {
                display: none;
            }
        }
    </style>
</head>
<body class="flex flex-col md:flex-row min-h-screen">

    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu-overlay" onclick="toggleMobileMenu()"></div>

    <!-- Left Fixed Side Menu (Desktop) -->
    <nav class="hidden md:flex flex-col w-64 bg-darkest-bg text-lightest p-6 fixed h-full shadow-lg z-40">
        <h1 class="text-3xl font-bold mb-4 text-lightest">Toushif UL Haque</h1>
        <p class="text-lg font-medium text-light-accent mb-8">Frontend Developer / Software Engineer</p>
        <div class="space-y-4 flex-grow">
            <a href="#about" class="nav-link block py-2 px-4 rounded-lg text-lg hover:bg-dark-accent transition duration-300" onclick="scrollToSection(event, 'about')">About Me</a>
            <a href="#summary" class="nav-link block py-2 px-4 rounded-lg text-lg hover:bg-dark-accent transition duration-300" onclick="scrollToSection(event, 'summary')">Summary</a>
            <a href="#skills" class="nav-link block py-2 px-4 rounded-lg text-lg hover:bg-dark-accent transition duration-300" onclick="scrollToSection(event, 'skills')">Skills</a>
            <a href="#experience" class="nav-link block py-2 px-4 rounded-lg text-lg hover:bg-dark-accent transition duration-300" onclick="scrollToSection(event, 'experience')">Experience</a>
            <a href="#education" class="nav-link block py-2 px-4 rounded-lg text-lg hover:bg-dark-accent transition duration-300" onclick="scrollToSection(event, 'education')">Education</a>
            <a href="#documents" class="nav-link block py-2 px-4 rounded-lg text-lg hover:bg-dark-accent transition duration-300" onclick="scrollToSection(event, 'documents')">Documents</a>
            <a href="#contact" class="nav-link block py-2 px-4 rounded-lg text-lg hover:bg-dark-accent transition duration-300" onclick="scrollToSection(event, 'contact')">Contact Me</a>
        </div>
        <div class="mt-8">
            <p class="text-sm text-light-accent">&copy; 2025 Toushif UL Haque</p>
        </div>
    </nav>

    <!-- Mobile Slide-out Menu -->
    <nav id="mobile-menu-nav" class="md:hidden">
        <div class="flex justify-between items-center mb-4">
            <h1 class="text-2xl font-bold text-lightest">Toushif UL Haque</h1>
            <button class="text-lightest text-3xl leading-none" onclick="toggleMobileMenu()">&times;</button>
        </div>
        <p class="text-lg font-medium text-light-accent mb-8">Frontend Developer / Software Engineer</p>
        <div class="space-y-4 flex-grow">
            <a href="#about" class="nav-link block py-2 px-4 rounded-lg text-lg hover:bg-dark-accent transition duration-300" onclick="scrollToSection(event, 'about'); toggleMobileMenu();">About Me</a>
            <a href="#summary" class="nav-link block py-2 px-4 rounded-lg text-lg hover:bg-dark-accent transition duration-300" onclick="scrollToSection(event, 'summary'); toggleMobileMenu();">Summary</a>
            <a href="#skills" class="nav-link block py-2 px-4 rounded-lg text-lg hover:bg-dark-accent transition duration-300" onclick="scrollToSection(event, 'skills'); toggleMobileMenu();">Skills</a>
            <a href="#experience" class="nav-link block py-2 px-4 rounded-lg text-lg hover:bg-dark-accent transition duration-300" onclick="scrollToSection(event, 'experience'); toggleMobileMenu();">Experience</a>
            <a href="#education" class="nav-link block py-2 px-4 rounded-lg text-lg hover:bg-dark-accent transition duration-300" onclick="scrollToSection(event, 'education'); toggleMobileMenu();">Education</a>
            <a href="#documents" class="nav-link block py-2 px-4 rounded-lg text-lg hover:bg-dark-accent transition duration-300" onclick="scrollToSection(event, 'documents'); toggleMobileMenu();">Documents</a>
            <a href="#contact" class="nav-link block py-2 px-4 rounded-lg text-lg hover:bg-dark-accent transition duration-300" onclick="scrollToSection(event, 'contact'); toggleMobileMenu();">Contact Me</a>
        </div>
    </nav>


    <!-- Main Content Area -->
    <div class="flex-grow flex flex-col md:ml-64">
        <header class="bg-lightest/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
            <nav class="container mx-auto px-6 py-4 flex items-center justify-between md:justify-end">
                <!-- Hamburger icon for mobile -->
                <button class="md:hidden text-dark-text text-3xl leading-none mr-4" onclick="toggleMobileMenu()">&#x2630;</button>
                <div class="flex space-x-2 md:space-x-4">
                    <!-- Web view: px-4 py-2 text-base -->
                    <!-- Mobile view: px-2 py-1 text-sm -->
                    <a href="https://docs.google.com/document/d/18WgMw3YR8yD6GlPq8eBicC_LqFm1YsXxcKSrAXb9u7k/export?format=pdf" target="_blank" rel="noopener noreferrer" class="bg-dark-accent text-lightest rounded-lg header-btn-hover transition px-4 py-2 text-base">Download Resume</a>
                    <button class="bg-dark-accent text-lightest rounded-lg header-btn-hover transition px-4 py-2 text-base" onclick="openContactModal()">Contact Me</button>
                    <button id="openPaletteBtn" class="text-dark-text px-1 py-1 rounded-lg hover:bg-light-accent transition text-3xl">🎨</button>
                </div>
            </nav>
        </header>

        <main id="mainContent" class="container mx-auto p-6 md:p-8 flex-grow main-gradient-bg">

            <!-- About Me Section -->
            <section id="about" class="mb-16 scroll-mt-24 flex flex-col items-center">
                <h2 class="section-header">About Me</h2>
                <div class="bg-lightest p-8 rounded-xl shadow-lg transition hover:shadow-2xl w-full">
                    <img src="assets/images/Toushif_profile_small.jpg" alt="Toushif UL Haque Profile" class="w-96 h-96 rounded-full object-cover border border-darkest-bg md:float-right md:ml-6 mb-4 md:mb-0 flex-shrink-0">
                    <p class="text-lg text-dark-text leading-relaxed">
                        Hi there 👋 I am a Frontend turned Full-stack Developer/Software Engineer with 9 years of Enterprise-level experience, graduate of Information Technology, postgraduate in Cloud computing and pursuing masters in Artificial Intelligence, and in Love with JavaScript. I have worked full time with organisations like IBM, Cognizant, L&TMindtree over the past 9+ years, and worked with different clients like Arista Networks, Daimler, Mercedez Benz, Maersk Line, British American Tobacco, Standard Insurance Company, LPL Financial, etc. to help create their Web products. I create Robust, Scalable and Successful Websites/Web Applications that are fast, easy to use, and built with best coding practices.
                        <br><br>
                        I work to make the best web apps; one that is fast, easy to use, beautiful, accessible to ALL with full ADA compliance, and frustration-free. Regardless of your specific business requirements, in solving these challenges, you have a great chance of finding success online working with me.
                        <br><br>
                        I specialize in JavaScript, React, Python, Angular, TypeScript, NodeJS, Express, MongoDB, etc. My main experience is in front-end development but I also have a passion for designing a fast and scalable Back-end architecture. Given that producing a modern website requires the combination of design, server technology, and the layer that users interacts with, I believe having experience in both design and development allows for making the most optimal user experiences.
                    </p>
                    <div class="mt-6 border-t pt-6 border-light-accent w-full clear-right">
                        <h3 class="text-xl font-semibold text-dark-text mb-2">Connect Directly</h3>
                        <p class="text-dark-text">📞 **Phone:** +91-8981288955</p>
                        <p class="text-dark-text">📧 **Email:** toushif.haq@gmail.com</p>
                    </div>
                </div>
            </section>
            
            <!-- Summary Section -->
            <section id="summary" class="mb-16 scroll-mt-24 flex flex-col items-center">
                <h2 class="section-header">Summary</h2>
                <div class="bg-lightest p-8 rounded-xl shadow-lg transition hover:shadow-2xl w-full">
                    <p class="text-lg text-dark-text leading-relaxed">
                        Results-driven Module Lead and IT specialist with 9 years of experience in architecting, developing, and optimizing high-performance web applications. I leverage deep expertise in React (7+ years) and Angular (2.3 years), alongside a strong command of design patterns, data structures, and OOP (C++/Python), to lead teams and deliver robust, scalable solutions that significantly improve performance and user experience. My goal is to translate complex business requirements into intuitive, efficient, and impactful digital products.
                    </p>
                    <div class="mt-6 flex flex-wrap gap-4">
                        <a href="https://www.linkedin.com/in/toushif-haq/" target="_blank" class="bg-light-accent text-darkest-bg px-4 py-2 rounded-full text-sm font-medium hover:bg-dark-accent hover:text-lightest transition">LinkedIn</a>
                        <a href="https://github.com/Toushif" target="_blank" class="bg-light-accent text-darkest-bg px-4 py-2 rounded-full text-sm font-medium hover:bg-dark-accent hover:text-lightest transition">GitHub</a>
                        <a href="https://toushif.github.io/" target="_blank" class="bg-light-accent text-darkest-bg px-4 py-2 rounded-full text-sm font-medium hover:bg-dark-accent hover:text-lightest transition">Portfolio</a>
                    </div>
                </div>
            </section>

            <!-- Skills Section -->
            <section id="skills" class="mb-16 scroll-mt-24 flex flex-col items-center">
                <h2 class="section-header">Technical Skills</h2>
                <p class="text-center text-dark-text mb-8">A snapshot of my technical proficiency. Use the filters to explore different skill areas.</p>
                <div class="flex justify-center mb-8 space-x-2 flex-wrap">
                    <button class="skill-btn active px-4 py-2 bg-lightest text-dark-text rounded-full shadow-sm hover:bg-light-accent transition" onclick="filterSkills('all')">All</button>
                    <button class="skill-btn px-4 py-2 bg-lightest text-dark-text rounded-full shadow-sm hover:bg-light-accent transition" onclick="filterSkills('frontend')">Frontend</button>
                    <button class="skill-btn px-4 py-2 bg-lightest text-dark-text rounded-full shadow-sm hover:bg-light-accent transition" onclick="filterSkills('backend')">Backend & DB</button>
                    <button class="skill-btn px-4 py-2 bg-lightest text-dark-text rounded-full shadow-sm hover:bg-light-accent transition" onclick="filterSkills('tools')">Tools & DevOps</button>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 w-full" id="skills-grid">
                    <!-- Skills will be dynamically inserted here -->
                </div>
                <div class="mt-12 w-full">
                     <h3 class="text-2xl font-bold text-center text-dark-text mb-4">Skill Proficiency</h3>
                     <div class="bg-lightest p-6 rounded-xl shadow-lg">
                        <div class="chart-container">
                            <canvas id="skillProficiencyChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Experience Section -->
            <section id="experience" class="mb-16 scroll-mt-24 flex flex-col items-center">
                <h2 class="section-header">Professional Experience</h2>
                <p class="text-center text-dark-text mb-12">An interactive timeline of my career journey. Click on any role to see the details.</p>
                <div class="relative w-full" id="experience-timeline">
                    <!-- Timeline items will be injected here -->
                </div>
            </section>

            <!-- Education & Certifications Section -->
            <section id="education" class="mb-16 scroll-mt-24 flex flex-col items-center">
                 <h2 class="section-header">Education & Certifications</h2>
                 <div class="grid md:grid-cols-2 gap-8 w-full">
                    <div class="bg-lightest p-8 rounded-xl shadow-lg">
                        <h3 class="text-2xl font-bold text-dark-text mb-4">Education</h3>
                        <div class="space-y-4">
                            <div>
                                <p class="font-semibold text-lg">Post Graduate Program in Cloud Computing</p>
                                <p class="text-dark-accent">California Institute of Technology (Caltech) — 2024</p>
                            </div>
                            <div>
                                <p class="font-semibold text-lg">Bachelor of Technology in Information Technology</p>
                                <p class="text-dark-accent">MCKV Institute of Engineering, India — 2016</p>
                            </div>
                        </div>
                    </div>
                     <div class="bg-lightest p-8 rounded-xl shadow-lg">
                        <h3 class="text-2xl font-bold text-dark-text mb-4">Certifications</h3>
                        <ul class="list-disc list-inside text-dark-text space-y-2">
                            <li>Angular (Hackerrank)</li>
                            <li>React (Hackerrank)</li>
                            <li>JavaScript Internals (Udemy)</li>
                            <li>NodeJS (Udemy)</li>
                            <li>TypeScript (Udemy)</li>
                            <li>Application Developer - Mobile Hybrid (IBM)</li>
                        </ul>
                    </div>
                 </div>
            </section>

            <!-- Documents Section -->
            <section id="documents" class="mb-16 scroll-mt-24 flex flex-col items-center">
                <h2 class="section-header">Documents & Certificates</h2>
                <div class="bg-lightest p-8 rounded-xl shadow-lg w-full">
                    <button class="w-full text-left font-bold text-xl text-dark-text py-4 px-4 rounded-lg bg-light-accent hover:bg-dark-accent hover:text-lightest transition duration-300 flex justify-between items-center" onclick="toggleDocuments()">
                        View My Certificates
                        <span id="document-toggle-icon">▲</span>
                    </button>
                    <div id="documents-content" class="mt-6">
                        <p class="text-dark-text text-center mb-6">Explore a selection of my certifications and achievements.</p>
                        <div class="carousel-container">
                            <div class="carousel-slides" id="certificate-carousel">
                                <!-- Certificate images will be injected here -->
                            </div>
                            <button class="carousel-button left" onclick="prevSlide()">&#10094;</button>
                            <button class="carousel-button right" onclick="nextSlide()">&#10095;</button>
                        </div>
                        <div class="text-center text-sm text-dark-text mt-4" id="carousel-caption"></div>
                    </div>
                </div>
            </section>

            <!-- Contact Me Section -->
            <section id="contact" class="mb-16 scroll-mt-24 flex flex-col items-center">
                <h2 class="section-header">Contact Me</h2>
                <div class="bg-lightest p-8 rounded-xl shadow-lg w-full">
                    <p class="text-center text-dark-text mb-8 max-w-2xl mx-auto">
                        Do you want me to create your websites/web applications? Fill out the form and fill me in with the details :) I love meeting new people!
                    </p>
                    <form id="contactForm" class="max-w-md mx-auto space-y-4">
                        <div>
                            <label for="name" class="block text-dark-text text-sm font-semibold mb-2">Name:</label>
                            <input type="text" id="name" name="name" class="w-full p-3 rounded-lg border border-light-accent focus:outline-none focus:ring-2 focus:ring-dark-accent" required>
                            <p id="nameError" class="text-dark-text text-sm mt-1 hidden">Name is required.</p>
                        </div>
                        <div>
                            <label for="email" class="block text-dark-text text-sm font-semibold mb-2">Email:</label>
                            <input type="email" id="email" name="email" class="w-full p-3 rounded-lg border border-light-accent focus:outline-none focus:ring-2 focus:ring-dark-accent" required>
                            <p id="emailError" class="text-dark-text text-sm mt-1 hidden">A valid email is required.</p>
                        </div>
                        <div>
                            <label for="phone" class="block text-dark-text text-sm font-semibold mb-2">Phone (Optional):</label>
                            <input type="tel" id="phone" name="phone" class="w-full p-3 rounded-lg border border-light-accent focus:outline-none focus:ring-2 focus:ring-dark-accent">
                        </div>
                        <div>
                            <label for="message" class="block text-dark-text text-sm font-semibold mb-2">Message:</label>
                            <textarea id="message" name="message" rows="5" class="w-full p-3 rounded-lg border border-light-accent focus:outline-none focus:ring-2 focus:ring-dark-accent" required></textarea>
                            <p id="messageError" class="text-dark-text text-sm mt-1 hidden">Message is required.</p>
                        </div>
                        <button type="submit" class="w-full bg-dark-accent text-lightest font-bold py-3 rounded-lg hover:bg-dark-accent-hover transition duration-300 shadow-md">Send Message</button>
                    </form>
                </div>
            </section>

        </main>
    </div>

    <!-- Color Palette Modal -->
    <div id="paletteModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closePaletteModal()">&times;</span>
            <h2 class="text-3xl font-bold text-center text-dark-text mb-4">Select a Color Palette</h2>
            <div id="paletteList" class="mt-4 overflow-y-auto max-h-80">
                <!-- Palettes will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <!-- Full Screen Certificate Modal -->
    <div id="fullScreenModal" class="modal">
        <div class="modal-content flex flex-col items-center p-4">
            <span class="close-button" onclick="closeFullScreenModal()">&times;</span>
            <!-- Desktop Navigation Buttons (outside fullScreenContent but inside modal-content) -->
            <button class="fullscreen-nav-button left hidden md:block" onclick="navigateFullScreen(-1)">&#10094;</button>
            <div id="fullScreenContent" class="w-full h-full flex items-center justify-center">
                <!-- Image or PDF will be loaded here -->
            </div>
            <button class="fullscreen-nav-button right hidden md:block" onclick="navigateFullScreen(1)">&#10095;</button>
            <div id="fullScreenCaption" class="text-center text-dark-text mt-4 text-xl"></div>
        </div>
    </div>

    <!-- Contact Modal -->
    <div id="contactModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeContactModal()">&times;</span>
            <h2 class="text-3xl font-bold text-center text-dark-text mb-4">Get in Touch!</h2>
            <p class="text-center text-dark-text mb-8">
                Do you want me to create your websites/web applications? Fill out the form and fill me in with the details :) I love meeting new people!
            </p>
            <form id="contactModalForm" class="max-w-md mx-auto space-y-4">
                <div>
                    <label for="modalName" class="block text-dark-text text-sm font-semibold mb-2">Name:</label>
                    <input type="text" id="modalName" name="name" class="w-full p-3 rounded-lg border border-light-accent focus:outline-none focus:ring-2 focus:ring-dark-accent" required>
                    <p id="modalNameError" class="text-dark-text text-sm mt-1 hidden">Name is required.</p>
                </div>
                <div>
                    <label for="modalEmail" class="block text-dark-text text-sm font-semibold mb-2">Email:</label>
                    <input type="email" id="modalEmail" name="email" class="w-full p-3 rounded-lg border border-light-accent focus:outline-none focus:ring-2 focus:ring-dark-accent" required>
                    <p id="modalEmailError" class="text-dark-text text-sm mt-1 hidden">A valid email is required.</p>
                </div>
                <div>
                    <label for="modalPhone" class="block text-dark-text text-sm font-semibold mb-2">Phone (Optional):</label>
                    <input type="tel" id="modalPhone" name="phone" class="w-full p-3 rounded-lg border border-light-accent focus:outline-none focus:ring-2 focus:ring-dark-accent">
                </div>
                <div>
                    <label for="modalMessage" class="block text-dark-text text-sm font-semibold mb-2">Message:</label>
                    <textarea id="modalMessage" name="message" rows="5" class="w-full p-3 rounded-lg border border-light-accent focus:outline-none focus:ring-2 focus:ring-dark-accent" required></textarea>
                    <p id="modalMessageError" class="text-dark-text text-sm mt-1 hidden">Message is required.</p>
                </div>
                <button type="submit" class="w-full bg-dark-accent text-lightest font-bold py-3 rounded-lg hover:bg-dark-accent-hover transition duration-300 shadow-md">Send Message</button>
            </form>
        </div>
    </div>

    <script>
        const skillsData = [
            { name: 'JavaScript (ES6+)', category: 'frontend', icon: '&#x1F4BB;' }, /* Laptop */
            { name: 'TypeScript', category: 'frontend', icon: '&#x1F4D3;' }, /* Notebook */
            { name: 'React', category: 'frontend', icon: '&#x269B;&#xFE0F;' }, /* Atom Symbol */
            { name: 'Angular', category: 'frontend', icon: '&#x25B2;' }, /* Up-pointing triangle */
            { name: 'NextJS', category: 'frontend', icon: '&#x23E9;' }, /* Fast-Forward */
            { name: 'Redux', category: 'frontend', icon: '&#x2B07;&#xFE0F;' }, /* Down Arrow */
            { name: 'HTML5 & CSS3', category: 'frontend', icon: '&#x1F4BB;' },
            { name: 'Tailwind CSS', category: 'frontend', icon: '&#x1F30B;' }, /* Volcano */
            { name: 'SASS', category: 'frontend', icon: '&#x2728;' }, /* Sparkles */
            { name: 'NodeJS', category: 'backend', icon: '&#x1F333;' }, /* Deciduous Tree */
            { name: 'Python', category: 'backend', icon: '&#x1F40D;' }, /* Snake */
            { name: 'Golang', category: 'backend', icon: '&#x1F41F;' }, /* Fish */
            { name: 'Express', category: 'backend', icon: '&#x1F680;' }, /* Rocket */
            { name: 'SQL', category: 'backend', icon: '&#x1F4C4;' }, /* Page Facing Up */
            { name: 'MongoDB', category: 'backend', icon: '&#x1F4C6;' }, /* Calendar */
            { name: 'GIT', category: 'tools', icon: '&#x1F4C3;' }, /* Page With Curl */
            { name: 'Webpack', category: 'tools', icon: '&#x1F4E6;' }, /* Package */
            { name: 'Docker', category: 'tools', icon: '&#x1F433;' }, /* Spouting Whale */
            { name: 'Azure DevOps', category: 'tools', icon: '&#x2699;&#xFE0F;' }, /* Gear */
            { name: 'Jira', category: 'tools', icon: '&#x1F4CB;' }, /* Clipboard */
            { name: 'Cypress', category: 'tools', icon: '&#x1F3C1;' }, /* Chequered Flag */
            { name: 'JMeter', category: 'tools', icon: '&#x26A1;' }, /* High Voltage */
        ];

        const experienceData = [
            {
                date: 'Dec 2021 – Present',
                role: 'Module Lead',
                company: 'LTIMindtree Ltd',
                client: 'Arista Networks',
                details: [
                    "Architected and spearheaded end-to-end frontend development of a critical Navigation Tool, applying optimal UI design patterns to create a scalable architecture that significantly streamlined internal user workflows.",
                    "Leveraged React Query for efficient data management and caching, and employed GraphQL Relay for robust backend communication.",
                    "Achieved a 40% enhancement in web application performance through strategic custom Webpack configurations.",
                    "Successfully scaled the internal daily user count from approximately 50 to over 2,300 within 23 months."
                ]
            },
            {
                date: 'Jan 2020 – Nov 2021',
                role: 'Senior Project Associate',
                company: 'Cognizant Technology Solutions',
                client: 'LPL Financial',
                details: [
                    "Guided and mentored a team of 10+ Angular developers in successfully developing critical large-scale enterprise web applications.",
                    "Spearheaded the solutioning and architectural design of the entire Front-end system, applying advanced JavaScript design patterns.",
                    "Designed and published a common enterprise-level Angular library (Angular 9), hosting reusable components to streamline development.",
                    "Managed the complete application lifecycle using Microsoft TFS/Azure DevOps and automated deployments with Microsoft Octopus."
                ]
            },
            {
                date: 'Sep 2019 – Dec 2019',
                role: 'Experienced Frontend Developer',
                company: 'IBM India Pvt Ltd',
                client: 'Standard Insurance Company',
                details: [
                    "Led a team of 4 Angular developers in the complex migration of a legacy Struts-based application to a modern Angular 7.3 and Spring MVC architecture.",
                    "Managed the project workflow, including requirements gathering, task assignment, and delivery of critical components via lazy loading.",
                    "Improved Lighthouse Report performance by over 40% through strategic Webpack optimization."
                ]
            },
            {
                date: 'Oct 2018 – Aug 2019',
                role: 'Experienced Frontend Developer',
                company: 'IBM India Pvt Ltd',
                client: 'British American Tobacco',
                details: [
                    "Independently developed a comprehensive Web Application Portal from inception using Angular 7.",
                    "Conceptualized the entire UI/UX in the absence of pre-existing wireframes.",
                    "Conducted rigorous load testing with JMeter and smoke testing with Postman."
                ]
            },
            {
                date: 'Feb 2018 – Sep 2018',
                role: 'Experienced Frontend Developer',
                company: 'IBM India Pvt Ltd',
                client: 'MAERSK LINE (DAMCO)',
                details: [
                    "Developed critical web portals for \"PO Collaboration\" and \"Sourcing Optimization\" projects using the raw ReactJS framework.",
                    "Adhered strictly to Agile methodology and utilized VSTS for collaborative development."
                ]
            },
            {
                date: 'Aug 2016 – Jan 2018',
                role: 'Mobile Hybrid Application Developer',
                company: 'IBM India Pvt Ltd',
                client: 'DAIMLER',
                details: [
                    "Developed responsive web application portals for Daimler's Mercedes Service Booking and Korea Loyalty programs using ReactJS with Redux.",
                    "Implemented significant performance optimizations through advanced Webpack configurations.",
                    "Ensured backward compatibility across diverse browsers using Corejs and polyfills."
                ]
            }
        ];

        const certificatesData = [
            { src: "assets/images/AWS Solution Architect Certificate.pdf", caption: "PG CC - AWS Solutions Architect", url: null },
            { src: "assets/images/Azure Certificate.pdf", caption: "PG CC - Microsoft Certified Azure Administrator: AZ:104", url: null },
            { src: "assets/images/Angular Certificate.png", caption: "Angular certificate", url: "https://www.hackerrank.com/certificates/74a1dc0ead50" },
            { src: "assets/images/React Certificate.png", caption: "React certificate", url: "https://www.hackerrank.com/certificates/ddd0ebaea285" },
            { src: "assets/images/JavaScript Algorithms and Data Structures Masterclass.jpg", caption: "JavaScript Algorithms and Data Structures Masterclass", url: "https://www.udemy.com/certificate/UC-59aafff3-dfbb-49c5-b21c-2b45d622de8c/" },
            { src: "assets/images/JavaScript- Understanding the Weird Parts.jpg", caption: "JavaScript: Understanding the Weird Parts", url: "https://www.udemy.com/certificate/UC-02bcf3ce-2885-4475-93d8-11e2453fb1db/" },
            { src: "assets/images/ES6 Javascript- The Complete Developer's Guide.jpg", caption: "ES6 Javascript: The Complete Developer's Guide", url: "https://www.udemy.com/certificate/UC-41a1873b-c74c-4f43-833a-15c209455c77/" },
            { src: "assets/images/Understanding TypeScript.jpg", caption: "Understanding TypeScript", url: "https://www.udemy.com/certificate/UC-e2b4da7f-7c9b-48f7-b3de-028cdca320de/" },
            { src: "assets/images/The Complete Node.js Developer Course.jpg", caption: "The Complete Node.js Developer Course", url: "https://www.udemy.com/certificate/UC-805e091a-db79-49be-b1b8-aaac9fec27e5/" },
            { src: "assets/images/MongoDB - The Complete Developer's Guide.jpg", caption: "MongoDB - The Complete Developer's Guide", url: "https://www.udemy.com/certificate/UC-43fe8d8b-7405-4238-9f62-6fce9a31a348/" },
            { src: "assets/images/Just Express (with a bunch of node and http).jpg", caption: "Just Express (with a bunch of node and http)", url: "https://www.udemy.com/certificate/UC-5e2a806e-266e-4afc-a508-fae951a429b6/" },
            { src: "assets/images/Jenkins 2 Bootcamp- Fully Automate Builds to Deployment.jpg", caption: "Jenkins 2 Bootcamp: Fully Automate Builds to Deployment", url: "https://www.udemy.com/certificate/UC-32a7b577-a243-461e-b563-b327e5a9e11f/" },
            { src: "assets/images/Unit testing your Javascript with jasmine.jpg", caption: "Unit testing your Javascript with Jasmine", url: "https://www.udemy.com/certificate/UC-d6972dd4-c90d-4780-8456-e7407294822a/" },
            { src: "assets/images/Build NodeJS applications with Mongodb.jpg", caption: "Build NodeJS applications with Mongodb", url: "https://www.udemy.com/certificate/UC-5eab33b2-748b-468f-95c4-52f25729b7da/" }
        ];

        let currentSlide = 0;
        let carouselInterval;

        function renderSkills(category = 'all') {
            const skillsGrid = document.getElementById('skills-grid');
            skillsGrid.innerHTML = '';
            const filteredSkills = category === 'all' ? skillsData : skillsData.filter(skill => skill.category === category);
            
            filteredSkills.forEach(skill => {
                const skillEl = document.createElement('div');
                skillEl.className = 'skill-item-card p-4 rounded-lg shadow-sm flex items-center space-x-3 text-center font-medium';
                skillEl.innerHTML = `<span class="text-xl">${skill.icon}</span><span>${skill.name}</span>`;
                skillsGrid.appendChild(skillEl);
            });
        }

        function filterSkills(category) {
            document.querySelectorAll('.skill-btn').forEach(btn => btn.classList.remove('active', 'bg-dark-accent', 'text-lightest'));
            const activeButton = document.querySelector(`.skill-btn[onclick="filterSkills('${category}')"]`);
            if (activeButton) {
                activeButton.classList.add('active', 'bg-dark-accent', 'text-lightest');
            }
            renderSkills(category);
        }

        function renderExperience() {
            const timeline = document.getElementById('experience-timeline');
            timeline.innerHTML = '';
            experienceData.forEach((exp, index) => {
                const item = document.createElement('div');
                item.className = 'timeline-item relative pl-10 pb-8';
                item.innerHTML = `
                    <div class="absolute left-0 top-0 flex items-center justify-center bg-dark-accent rounded-full h-10 w-10 text-lightest font-bold shadow-md">
                        ${experienceData.length - index}
                    </div>
                    <div class="ml-5 bg-lightest p-6 rounded-xl shadow-lg cursor-pointer transition hover:shadow-2xl" onclick="toggleDetails(this)">
                        <p class="text-sm text-dark-accent font-semibold">${exp.date}</p>
                        <h3 class="text-xl font-bold text-dark-text mt-1">${exp.role}</h3>
                        <p class="text-dark-accent">${exp.company} <span class="text-light-accent">| Client: ${exp.client}</span></p>
                        <div class="details mt-4 text-dark-text space-y-2 hidden">
                           ${exp.details.map(d => `<p class="flex items-start"><span class="text-dark-accent mr-2 mt-1">&#10003;</span><span>${d}</span></p>`).join('')}
                        </div>
                    </div>
                `;
                timeline.appendChild(item);
            });
        }

        function toggleDetails(element) {
            const details = element.querySelector('.details');
            const isOpen = !details.classList.contains('hidden');
            
            document.querySelectorAll('#experience-timeline .details').forEach(d => {
                if(d !== details) d.classList.add('hidden');
            });

            details.classList.toggle('hidden');
        }
        
        function renderSkillChart() {
            const ctx = document.getElementById('skillProficiencyChart').getContext('2d');

            // Destroy existing chart if it exists to prevent re-render issues
            if (window.myRadarChart) {
                window.myRadarChart.destroy();
            }

            // Updated chartData as per your request
            const chartData = [9, 8.3, 9, 8.8, 8, 7.9]; // React, Angular, JavaScript/TS, System Design, Backend Dev, Testing & QA

            window.myRadarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['React', 'Angular', 'JavaScript/TS', 'System Design', 'Backend Dev', 'Testing & QA'],
                    datasets: [{
                        label: 'Proficiency',
                        data: chartData, // Use the updated chartData
                        backgroundColor: 'rgba(82, 121, 111, 0.2)', /* hookers-green with alpha */
                        borderColor: 'rgba(82, 121, 111, 1)', /* hookers-green */
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(82, 121, 111, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(82, 121, 111, 1)'
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            pointLabels: {
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'var(--color-dark-text)'
                            },
                            ticks: {
                                beginAtZero: true,
                                max: 10,
                                stepSize: 2,
                                backdropColor: 'rgba(255, 255, 255, 0.75)',
                                color: 'var(--color-dark-accent)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
            return window.myRadarChart; // Return the chart instance
        }
        
        // Debounce variable for scrollspy
        let scrollTimeout;

        function handleScrollspy() {
            // Clear any existing timeout to debounce the function call
            clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(() => {
                const sections = document.querySelectorAll('section');
                const navLinks = document.querySelectorAll('.nav-link');
                
                let currentSectionId = '';
                const scrollThreshold = 100; // Offset for when a section becomes active

                // Find the topmost visible section
                for (let i = sections.length - 1; i >= 0; i--) {
                    const section = sections[i];
                    const rect = section.getBoundingClientRect();
                    // Check if the section is at least partially in view, considering the scrollThreshold
                    if (rect.top <= window.innerHeight / 2 && rect.bottom >= window.innerHeight / 2) {
                        currentSectionId = section.getAttribute('id');
                        break;
                    }
                }

                // Remove 'active' class from all nav links first
                navLinks.forEach(link => {
                    link.classList.remove('active', 'bg-dark-accent');
                });

                // Add 'active' class only to the link corresponding to the current section
                if (currentSectionId) {
                    const activeLink = document.querySelector(`.nav-link[href="#${currentSectionId}"]`);
                    if (activeLink) {
                        activeLink.classList.add('active', 'bg-dark-accent');
                    }
                }
            }, 50); // Debounce by 50ms
        }

        // Function to handle smooth scrolling and immediate active state on click
        function scrollToSection(event, sectionId) {
            event.preventDefault(); // Prevent default jump behavior
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });

            // Manually set active class immediately on click for instant feedback
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active', 'bg-dark-accent');
            });
            const clickedLink = document.querySelector(`.nav-link[href="#${sectionId}"]`);
            if (clickedLink) {
                clickedLink.classList.add('active', 'bg-dark-accent');
            }
            // The debounced handleScrollspy will then take over to re-evaluate on scroll end
        }


        function toggleDocuments() {
            const content = document.getElementById('documents-content');
            const icon = document.getElementById('document-toggle-icon');
            // Check if it's currently hidden. If so, show it and start carousel. If not, hide it and stop carousel.
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                icon.textContent = '▲';
                currentSlide = 0; // Reset to first slide
                showSlide(currentSlide);
                startCarousel();
            } else {
                content.classList.add('hidden');
                icon.textContent = '▼';
                clearInterval(carouselInterval);
            }
        }

        function renderCertificates() {
            const carousel = document.getElementById('certificate-carousel');
            carousel.innerHTML = '';
            certificatesData.forEach((cert, index) => {
                const slide = document.createElement('div');
                slide.className = 'carousel-slide';
                
                let mediaElement;
                const isPdf = cert.src.endsWith('.pdf');

                if (isPdf) {
                    // For PDFs, use an iframe
                    mediaElement = document.createElement('iframe');
                    mediaElement.src = cert.src + '#toolbar=0&navpanes=0'; // Hide toolbar/nav for cleaner view
                    mediaElement.className = 'w-full h-full object-contain rounded-lg'; // Tailwind classes for styling
                    mediaElement.style.minHeight = '300px'; // Ensure visibility
                } else {
                    // For images, use an img tag
                    mediaElement = document.createElement('img');
                    mediaElement.src = cert.src;
                    mediaElement.alt = cert.caption;
                    mediaElement.className = 'max-w-full h-auto rounded-lg'; // Tailwind classes for styling
                    mediaElement.onerror = function() { this.src = 'https://placehold.co/600x400/84A98C/2F3E46?text=Image+Error'; }; // Fallback
                }
                
                // Add click listener to open full screen modal
                mediaElement.onclick = () => openFullScreenModal(cert);

                slide.appendChild(mediaElement);
                carousel.appendChild(slide);
            });
            showSlide(currentSlide);
        }

        function showSlide(index) {
            const slides = document.querySelectorAll('.carousel-slide');
            const totalSlides = slides.length;
            if (index >= totalSlides) {
                currentSlide = 0;
            } else if (index < 0) {
                currentSlide = totalSlides - 1;
            } else {
                currentSlide = index;
            }
            const carousel = document.getElementById('certificate-carousel');
            carousel.style.transform = `translateX(-${currentSlide * 100}%)`;
            document.getElementById('carousel-caption').textContent = certificatesData[currentSlide].caption;
        }

        function nextSlide() {
            showSlide(currentSlide + 1);
        }

        function prevSlide() {
            showSlide(currentSlide + 1);
        }

        function startCarousel() {
            clearInterval(carouselInterval); // Clear any existing interval
            carouselInterval = setInterval(() => {
                nextSlide();
            }, 2000); // Change image every 2 seconds
        }

        // --- Full Screen Modal Logic ---
        let fullScreenModal;
        let fullScreenContent;
        let fullScreenCaption;
        let currentFullScreenIndex = 0; // To track current certificate in full screen

        function openFullScreenModal(cert) {
            fullScreenModal = document.getElementById('fullScreenModal');
            fullScreenContent = document.getElementById('fullScreenContent');
            fullScreenCaption = document.getElementById('fullScreenCaption');

            if (!fullScreenModal || !fullScreenContent || !fullScreenCaption) {
                console.error("Full screen modal elements not found!");
                return;
            }

            // Find the index of the clicked certificate
            currentFullScreenIndex = certificatesData.findIndex(item => item.src === cert.src);
            _loadFullScreenContent(certificatesData[currentFullScreenIndex]); // Load initial content

            fullScreenModal.style.display = 'flex';
            document.body.classList.add('no-scroll'); // Disable background scrolling

            // Add touch event listeners for swipe navigation on mobile
            fullScreenContent.addEventListener('touchstart', handleTouchStart, false);
            fullScreenContent.addEventListener('touchmove', handleTouchMove, false);
            fullScreenContent.addEventListener('touchend', handleTouchEnd, false);
        }

        function _loadFullScreenContent(cert) {
            fullScreenContent.innerHTML = ''; // Clear previous content
            fullScreenCaption.innerHTML = ''; // Clear previous caption

            const isPdf = cert.src.endsWith('.pdf');

            if (isPdf) {
                const iframe = document.createElement('iframe');
                iframe.src = cert.src + '#toolbar=0&navpanes=0'; // Hide toolbar/nav for cleaner view
                iframe.className = 'w-full h-full';
                iframe.style.minHeight = '80vh'; // Ensure it takes up significant height
                fullScreenContent.appendChild(iframe);
            } else {
                const img = document.createElement('img');
                img.src = cert.src;
                img.alt = cert.caption;
                img.className = 'max-w-full max-h-[95%] object-contain'; // Increased from 85vh to 95% of modal-content height
                img.onerror = function() { this.src = 'https://placehold.co/600x400/84A98C/2F3E46?text=Image+Error'; }; // Fallback
                fullScreenContent.appendChild(img);
            }

            // Add caption and link if URL exists
            if (cert.url) {
                const captionLink = document.createElement('a');
                captionLink.href = cert.url;
                captionLink.target = "_blank";
                captionLink.rel = "noopener noreferrer";
                captionLink.className = 'text-dark-accent hover:underline flex items-center justify-center text-xl'; // Increased font-size to text-xl
                captionLink.innerHTML = `${cert.caption} <span class="ml-2">&#x2197;</span>`; // Unicode for redirect icon
                fullScreenCaption.appendChild(captionLink);
            } else {
                const captionText = document.createElement('span');
                captionText.textContent = cert.caption;
                captionText.className = 'text-xl font-semibold'; // Increased font-size to text-xl
                fullScreenCaption.appendChild(captionText);
            }
        }

        function navigateFullScreen(direction) {
            currentFullScreenIndex += direction;
            if (currentFullScreenIndex >= certificatesData.length) {
                currentFullScreenIndex = 0;
            } else if (currentFullScreenIndex < 0) {
                currentFullScreenIndex = certificatesData.length - 1;
            }
            _loadFullScreenContent(certificatesData[currentFullScreenIndex]);
        }

        function closeFullScreenModal() {
            fullScreenModal = document.getElementById('fullScreenModal');
            if (fullScreenModal) {
                fullScreenModal.style.display = 'none';
            }
            document.body.classList.remove('no-scroll'); // Enable background scrolling
            // Remove touch event listeners
            fullScreenContent.removeEventListener('touchstart', handleTouchStart);
            fullScreenContent.removeEventListener('touchmove', handleTouchMove);
            fullScreenContent.removeEventListener('touchend', handleTouchEnd);
        }
        // --- End Full Screen Modal Logic ---

        // --- Touch/Swipe Logic for Full Screen Modal (Mobile) ---
        let touchStartX = 0;
        let touchEndX = 0;
        const swipeThreshold = 50; // Minimum pixels for a swipe

        function handleTouchStart(event) {
            touchStartX = event.touches[0].clientX;
        }

        function handleTouchMove(event) {
            touchEndX = event.touches[0].clientX;
            // Prevent vertical scrolling while swiping horizontally
            if (Math.abs(touchEndX - touchStartX) > 10) { // Small threshold to allow slight vertical movement
                event.preventDefault();
            }
        }

        function handleTouchEnd() {
            if (touchEndX < touchStartX - swipeThreshold) {
                // Swiped left (show next)
                navigateFullScreen(1);
            } else if (touchEndX > touchStartX + swipeThreshold) {
                // Swiped right (show previous)
                navigateFullScreen(-1);
            }
            // Reset touch positions
            touchStartX = 0;
            touchEndX = 0;
        }
        // --- End Touch/Swipe Logic ---


        // Contact Form Validation and Mailto Logic
        function validateForm(formId) {
            const nameInput = document.getElementById(formId === 'contactForm' ? 'name' : 'modalName');
            const emailInput = document.getElementById(formId === 'contactForm' ? 'email' : 'modalEmail');
            const messageInput = document.getElementById(formId === 'contactForm' ? 'message' : 'modalMessage');
            const nameError = document.getElementById(formId === 'contactForm' ? 'nameError' : 'modalNameError');
            const emailError = document.getElementById(formId === 'contactForm' ? 'emailError' : 'modalEmailError');
            const messageError = document.getElementById(formId === 'contactForm' ? 'messageError' : 'modalMessageError');

            let isValid = true;

            if (nameInput.value.trim() === '') {
                nameError.classList.remove('hidden');
                isValid = false;
            } else {
                nameError.classList.add('hidden');
            }

            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(emailInput.value.trim())) {
                emailError.classList.remove('hidden');
                isValid = false;
            } else {
                emailError.classList.add('hidden');
            }

            if (messageInput.value.trim() === '') {
                messageError.classList.remove('hidden');
                isValid = false;
            } else {
                messageError.classList.add('hidden');
            }
            return isValid;
        }

        function handleSubmit(event, formId) {
            event.preventDefault(); // Prevent default form submission
            if (validateForm(formId)) {
                const name = document.getElementById(formId === 'contactForm' ? 'name' : 'modalName').value;
                const email = document.getElementById(formId === 'contactForm' ? 'email' : 'modalEmail').value;
                const phone = document.getElementById(formId === 'contactForm' ? 'phone' : 'modalPhone').value;
                const message = document.getElementById(formId === 'contactForm' ? 'message' : 'modalMessage').value;

                let mailtoLink = `mailto:toushif.haq@gmail.com?subject=Portfolio Inquiry from ${name}&body=`;
                let bodyContent = `Name: ${name}%0D%0AEmail: ${email}%0D%0A`;
                if (phone) {
                    bodyContent += `Phone: ${phone}%0D%0A`;
                }
                bodyContent += `Message: %0D%0A${message}`;
                mailtoLink += encodeURIComponent(bodyContent);

                try {
                    window.location.href = mailtoLink;
                } catch (error) {
                    console.error("Failed to open mailto link:", error);
                    // Optionally, display a user-friendly message here
                    // alert("Your mail application could not be opened automatically. Please copy the details and send manually.");
                }
                
                // Close modal if form submitted from modal
                if (formId === 'contactModalForm') {
                    closeContactModal();
                }
                // Optionally clear form fields after submission
                document.getElementById(formId).reset();
            }
        }

        document.getElementById('contactForm').addEventListener('submit', (event) => handleSubmit(event, 'contactForm'));
        document.getElementById('contactModalForm').addEventListener('submit', (event) => handleSubmit(event, 'contactModalForm'));

        // Modal functions
        let contactModal; // Declared globally
        let paletteModal; // Declared globally
        let paletteList; // Declared globally

        function openContactModal() {
            if (contactModal) {
                contactModal.style.display = 'flex'; // Use flex to center
            }
        }

        function closeContactModal() {
            if (contactModal) {
                contactModal.style.display = 'none';
            }
        }

        window.onclick = function(event) {
            if (event.target == contactModal) {
                contactModal.style.display = 'none';
            }
            if (event.target == paletteModal) { // Close palette modal if clicking outside
                closePaletteModal();
            }
            if (event.target == fullScreenModal) { // Close full screen modal if clicking outside
                closeFullScreenModal();
            }
        }

        // Mobile menu toggle
        function toggleMobileMenu() {
            const mobileNav = document.getElementById('mobile-menu-nav');
            const overlay = document.getElementById('mobile-menu-overlay');
            const body = document.body;

            mobileNav.classList.toggle('open');
            overlay.classList.toggle('open');
            body.classList.toggle('no-scroll'); // Prevent scrolling when menu is open
        }

        // Color palette data
        const colorPalettes = [
            {
                name: "Modern Verdant",
                colors: {
                    'darkest-bg': '#2f3e46ff',
                    'dark-text': '#354f52ff',
                    'dark-accent': '#52796fff',
                    'light-accent': '#84a98cff',
                    'lightest': '#cad2c5ff'
                }
            },
            {
                name: "Space Cadet & Rose Quartz",
                colors: {
                    'darkest-bg': '#22223bff',
                    'dark-text': '#4a4e69ff',
                    'dark-accent': '#9a8c98ff',
                    'light-accent': '#c9ada7ff',
                    'lightest': '#f2e9e4ff'
                }
            },
            {
                name: "Ocean Blues",
                colors: {
                    'darkest-bg': '#03045eff',
                    'dark-text': '#0077b6ff',
                    'dark-accent': '#00b4d8ff',
                    'light-accent': '#90e0efff',
                    'lightest': '#caf0f8ff'
                }
            },
            {
                name: "Barn Red & Prussian Blue",
                colors: {
                    'darkest-bg': '#003049ff',
                    'dark-text': '#780000ff',
                    'dark-accent': '#c1121fff',
                    'light-accent': '#669bbcff',
                    'lightest': '#fdf0d5ff'
                }
            },
            {
                name: "Warm Earth Tones",
                colors: {
                    'darkest-bg': '#355070ff',
                    'dark-text': '#6d597aff',
                    'dark-accent': '#b56576ff',
                    'light-accent': '#e56b6fff',
                    'lightest': '#eaac8bff'
                }
            },
            {
                name: "Grayscale & Blue",
                colors: {
                    'darkest-bg': '#0d1b2aff',
                    'dark-text': '#1b263bff',
                    'dark-accent': '#415a77ff',
                    'light-accent': '#778da9ff',
                    'lightest': '#e0e1ddff'
                }
            },
            {
                name: "Forest & Earth",
                colors: {
                    'darkest-bg': '#283618ff', /* Pakistan Green */
                    'dark-text': '#606c38ff', /* Dark Moss Green */
                    'dark-accent': '#bc6c25ff', /* Tiger's Eye */
                    'light-accent': '#dda15eff', /* Earth Yellow */
                    'lightest': '#fefae0ff'  /* Cornsilk */
                }
            },
            {
                name: "Autumnal Hues",
                colors: {
                    'darkest-bg': '#472d30ff',
                    'dark-text': '#723d46ff',
                'dark-accent': '#e26d5cff',
                    'light-accent': '#ffe1a8ff',
                    'lightest': '#c9cba3ff'
                }
            },
            {
                name: "Deep Ocean & Silver",
                colors: {
                    'darkest-bg': '#0d1321ff',
                    'dark-text': '#1d2d44ff',
                    'dark-accent': '#3e5c76ff',
                    'light-accent': '#748cabff',
                    'lightest': '#f0ebd8ff'
                }
            },
            {
                name: "Dusty Rose & Gray",
                colors: {
                    'darkest-bg': '#565264ff',
                    'dark-text': '#706677ff',
                    'dark-accent': '#a6808cff',
                    'light-accent': '#ccb7aeff',
                    'lightest': '#d6cfcbff'
                }
            }
        ];

        let currentPaletteIndex = 0; // Default to the first palette

        function openPaletteModal() {
            // Ensure elements are retrieved when the function is called
            paletteModal = document.getElementById('paletteModal');
            paletteList = document.getElementById('paletteList'); 

            if (!paletteModal || !paletteList) {
                console.error("Palette modal or list element not found during openPaletteModal call!");
                return;
            }

            paletteList.innerHTML = ''; // Clear previous list

            colorPalettes.forEach((palette, index) => {
                const paletteItem = document.createElement('div');
                paletteItem.className = `palette-item ${index === currentPaletteIndex ? 'selected' : ''}`;
                paletteItem.setAttribute('data-palette-index', index);
                paletteItem.onclick = () => applyColorPalette(index);

                // Create color bars
                for (const key in palette.colors) {
                    const colorBar = document.createElement('div');
                    colorBar.className = 'palette-color-bar';
                    colorBar.style.backgroundColor = palette.colors[key];
                    paletteItem.appendChild(colorBar);
                }

                // Add tooltip
                const tooltip = document.createElement('div');
                tooltip.className = 'palette-tooltip';
                tooltip.textContent = Object.values(palette.colors).join(', ');
                paletteItem.appendChild(tooltip);

                paletteList.appendChild(paletteItem);
            });

            paletteModal.style.display = 'flex';
        }

        function closePaletteModal() {
            // Ensure element is retrieved when the function is called
            paletteModal = document.getElementById('paletteModal');
            if (paletteModal) {
                paletteModal.style.display = 'none';
            }
        }

        function applyColorPalette(index) {
            currentPaletteIndex = index;
            const selectedPalette = colorPalettes[index].colors;
            const root = document.documentElement;

            for (const key in selectedPalette) {
                root.style.setProperty(`--color-${key}`, selectedPalette[key]);
            }

            // Update chart colors (if chart exists and needs update)
            if (window.myRadarChart) {
                window.myRadarChart.data.datasets[0].backgroundColor = `rgba(${parseInt(selectedPalette['dark-accent'].substring(1,3), 16)}, ${parseInt(selectedPalette['dark-accent'].substring(3,5), 16)}, ${parseInt(selectedPalette['dark-accent'].substring(5,7), 16)}, 0.2)`;
                window.myRadarChart.data.datasets[0].borderColor = selectedPalette['dark-accent'];
                window.myRadarChart.data.datasets[0].pointBackgroundColor = selectedPalette['dark-accent'];
                window.myRadarChart.data.datasets[0].pointHoverBorderColor = selectedPalette['dark-accent'];
                window.myRadarChart.update();
            }

            // Update selected state in modal (if modal is open)
            // This part needs to be robust even if the modal is not currently open
            const allPaletteItems = document.querySelectorAll('.palette-item');
            allPaletteItems.forEach((item, idx) => {
                item.classList.remove('selected');
                if (idx === index) {
                    item.classList.add('selected');
                }
            });

            closePaletteModal();
        }


        document.addEventListener('DOMContentLoaded', () => {
            // Initialize global modal variables here after DOM is ready
            contactModal = document.getElementById('contactModal');
            paletteModal = document.getElementById('paletteModal');
            paletteList = document.getElementById('paletteList'); 

            // Attach event listener for the palette button
            const openPaletteBtn = document.getElementById('openPaletteBtn');
            if (openPaletteBtn) {
                openPaletteBtn.addEventListener('click', openPaletteModal);
            } else {
                console.error("Open palette button not found!");
            }

            renderSkills();
            renderExperience();
            window.myRadarChart = renderSkillChart(); // Store chart instance globally
            renderCertificates();
            // Attach scroll event listener for scrollspy
            window.addEventListener('scroll', handleScrollspy);
            // Initial call to set active class on load
            handleScrollspy(); // Call once on load to set initial active state
            filterSkills('all'); // Initialize skill filter to 'All'
            
            // Documents section is open by default, so start carousel
            startCarousel(); 

            // Apply default palette on load
            applyColorPalette(currentPaletteIndex);
        });
    </script>
</body>
</html>
